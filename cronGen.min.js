!function(a){var c,d,b="";a.fn.extend({cronGen:function(){var f=a("<div/>",{id:"CronContainer",style:"display:none;width:300px;height:300px;"}),j=a("<div/>",{id:"CronGenMainDiv",style:"width:480px;height:270px;"}),k=a("<ul/>",{class:"nav nav-tabs",id:"CronGenTabs"});a("<li/>",{class:"active"}).html(a('<a id="MinutesTab" href="#Minutes">Minutes</a>')).appendTo(k),a("<li/>").html(a('<a id="HourlyTab" href="#Hourly">Hourly</a>')).appendTo(k),a("<li/>").html(a('<a id="DailyTab" href="#Daily">Daily</a>')).appendTo(k),a("<li/>").html(a('<a id="WeeklyTab" href="#Weekly">Weekly</a>')).appendTo(k),a("<li/>").html(a('<a id="MonthlyTab" href="#Monthly">Monthly</a>')).appendTo(k),a("<li/>").html(a('<a id="YearlyTab" href="#Yearly">Yearly</a>')).appendTo(k),a(k).appendTo(j);var m=a("<div/>",{class:"container-fluid",style:"margin-top: 10px"}),n=a("<div/>",{class:"row-fluid"}),o=a("<div/>",{class:"span12"}),p=a("<div/>",{class:"tab-content"}),q=a("<div/>",{class:"tab-pane active",id:"Minutes"});a(q).append("Every&nbsp;"),a("<input/>",{id:"MinutesInput",type:"text",value:"1",style:"width: 40px"}).appendTo(q),a(q).append("&nbsp;minute(s)"),a(q).appendTo(p);var r=a("<div/>",{class:"tab-pane",id:"Hourly"}),s=a("<div/>",{class:"well well-small"});a("<input/>",{type:"radio",value:"1",name:"HourlyRadio",checked:"checked"}).appendTo(s),a(s).append("&nbsp;Every&nbsp;"),a("<input/>",{id:"HoursInput",type:"text",value:"1",style:"width: 40px"}).appendTo(s),a(s).append("&nbsp;hour(s)"),a(s).appendTo(r);var t=a("<div/>",{class:"well well-small"});a("<input/>",{type:"radio",value:"2",name:"HourlyRadio"}).appendTo(t),a(t).append("&nbsp;At&nbsp;"),a(t).append('<select id="AtHours" class="hours" style="width: 60px"></select>'),a(t).append('<select id="AtMinutes" class="minutes" style="width: 60px"></select>'),a(t).appendTo(r),a(r).appendTo(p);var u=a("<div/>",{class:"tab-pane",id:"Daily"}),v=a("<div/>",{class:"well well-small"});a("<input/>",{type:"radio",value:"1",name:"DailyRadio",checked:"checked"}).appendTo(v),a(v).append("&nbsp;Every&nbsp;"),a("<input/>",{id:"DaysInput",type:"text",value:"1",style:"width: 40px"}).appendTo(v),a(v).append("&nbsp;day(s)"),a(v).appendTo(u);var w=a("<div/>",{class:"well well-small"});a("<input/>",{type:"radio",value:"2",name:"DailyRadio"}).appendTo(w),a(w).append("&nbsp;Every week day&nbsp;"),a(w).appendTo(u),a(u).append("Start time&nbsp;"),a(u).append('<select id="DailyHours" class="hours" style="width: 60px"></select>'),a(u).append('<select id="DailyMinutes" class="minutes" style="width: 60px"></select>'),a(u).appendTo(p);var x=a("<div/>",{class:"tab-pane",id:"Weekly"}),y=a("<div/>",{class:"well well-small"}),z=a("<div/>",{class:"span6 col-sm-6"});a("<input/>",{type:"checkbox",value:"MON"}).appendTo(z),a(z).append("&nbsp;Monday<br />"),a("<input/>",{type:"checkbox",value:"WED"}).appendTo(z),a(z).append("&nbsp;Wednesday<br />"),a("<input/>",{type:"checkbox",value:"FRI"}).appendTo(z),a(z).append("&nbsp;Friday<br />"),a("<input/>",{type:"checkbox",value:"SUN"}).appendTo(z),a(z).append("&nbsp;Sunday");var A=a("<div/>",{class:"span6 col-sm-6"});a("<input/>",{type:"checkbox",value:"TUE"}).appendTo(A),a(A).append("&nbsp;Tuesday<br />"),a("<input/>",{type:"checkbox",value:"THU"}).appendTo(A),a(A).append("&nbsp;Thursday<br />"),a("<input/>",{type:"checkbox",value:"SAT"}).appendTo(A),a(A).append("&nbsp;Saturday"),a(z).appendTo(y),a(A).appendTo(y),a("<br /><br /><br /><br />").appendTo(y),a(y).appendTo(x),a(x).append("Start time&nbsp;"),a(x).append('<select id="WeeklyHours" class="hours" style="width: 60px"></select>'),a(x).append('<select id="WeeklyMinutes" class="minutes" style="width: 60px"></select>'),a(x).appendTo(p);var B=a("<div/>",{class:"tab-pane",id:"Monthly"}),C=a("<div/>",{class:"well well-small"});a("<input/>",{type:"radio",value:"1",name:"MonthlyRadio",checked:"checked"}).appendTo(C),a(C).append("&nbsp;Day&nbsp"),a("<input/>",{id:"DayOfMOnthInput",type:"text",value:"1",style:"width: 40px"}).appendTo(C),a(C).append("&nbsp;of every&nbsp;"),a("<input/>",{id:"MonthInput",type:"text",value:"1",style:"width: 40px"}).appendTo(C),a(C).append("&nbsp;month(s)"),a(C).appendTo(B);var D=a("<div/>",{class:"well well-small"});a("<input/>",{type:"radio",value:"2",name:"MonthlyRadio"}).appendTo(D),a(D).append("&nbsp;"),a(D).append('<select id="WeekDay" class="day-order-in-month" style="width: 80px"></select>'),a(D).append('<select id="DayInWeekOrder" class="week-days" style="width: 100px"></select>'),a(D).append("&nbsp;of every&nbsp;"),a("<input/>",{id:"EveryMonthInput",type:"text",value:"1",style:"width: 40px"}).appendTo(D),a(D).append("&nbsp;month(s)"),a(D).appendTo(B),a(B).append("Start time&nbsp;"),a(B).append('<select id="MonthlyHours" class="hours" style="width: 60px"></select>'),a(B).append('<select id="MonthlyMinutes" class="minutes" style="width: 60px"></select>'),a(B).appendTo(p);var E=a("<div/>",{class:"tab-pane",id:"Yearly"}),F=a("<div/>",{class:"well well-small"});a("<input/>",{type:"radio",value:"1",name:"YearlyRadio",checked:"checked"}).appendTo(F),a(F).append("&nbsp;Every&nbsp"),a(F).append('<select id="MonthsOfYear" class="months" style="width: 150px"></select>'),a(F).append("&nbsp;in day&nbsp;"),a("<input/>",{id:"YearInput",type:"text",value:"1",style:"width: 40px"}).appendTo(F),a(F).appendTo(E);var G=a("<div/>",{class:"well well-small"});a("<input/>",{type:"radio",value:"2",name:"YearlyRadio"}).appendTo(G),a(G).append("&nbsp;The&nbsp;"),a(G).append('<select id="DayOrderInYear" class="day-order-in-month" style="width: 80px"></select>'),a(G).append('<select id="DayWeekForYear" class="week-days" style="width: 100px"></select>'),a(G).append("&nbsp;of&nbsp;"),a(G).append('<select id="MonthsOfYear2" class="months" style="width: 110px"></select>'),a(G).appendTo(E),a(E).append("Start time&nbsp;"),a(E).append('<select id="YearlyHours" class="hours" style="width: 60px"></select>'),a(E).append('<select id="YearlyMinutes" class="minutes" style="width: 60px"></select>'),a(E).appendTo(p),a(p).appendTo(o),b=a(this).prop("id"),a(this).prop("name",b),a(o).appendTo(n),a(n).appendTo(m),a(m).appendTo(j),a(f).append(j);var H=a(this);H.hide();var I=a("<div>").addClass("input-group"),J=a("<input>",{type:"text",placeholder:"Cron trigger",readonly:"readonly"}).addClass("form-control").val(a(H).val());J.appendTo(I);var K=a('<button class="btn btn-default"><i class="icon-edit"></i></button>'),L=a("<span>").addClass("input-group-btn");K.appendTo(L),L.appendTo(I),a(this).before(I),c=H,d=J,K.popover({html:!0,content:function(){return a(f).html()},template:'<div class="popover" style="max-width:500px !important; width:500px"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>',placement:"bottom"}).on("click",function(b){b.preventDefault(),g(),i(),h(),e(),a("#CronGenTabs a").click(function(b){b.preventDefault(),a(this).tab("show"),l()}),a("#CronGenMainDiv select, #CronGenMainDiv input").change(function(a){l()})})},update:function(b){var e=a(this);c=e,d=a("input[placeholder='Cron trigger']").val(b),c.val(b).change(),d.val(b)}});var e=function(){var b=[{text:"January",val:"1"},{text:"February",val:"2"},{text:"March",val:"3"},{text:"April",val:"4"},{text:"May",val:"5"},{text:"June",val:"6"},{text:"July",val:"7"},{text:"August",val:"8"},{text:"September",val:"9"},{text:"October",val:"10"},{text:"Novermber",val:"11"},{text:"December",val:"12"}];a(".months").each(function(){f(this,b)})},f=function(b,c){for(var d=0;d<c.length;d++)a(b).append("<option value='"+c[d].val+"'>"+c[d].text+"</option>")},g=function(){for(var b=0;b<60;b++)b<24&&a(".hours").each(function(){a(this).append(k(b))}),a(".minutes").each(function(){a(this).append(k(b))})},h=function(){var b=[{text:"Monday",val:"MON"},{text:"Tuesday",val:"TUE"},{text:"Wednesday",val:"WED"},{text:"Thursday",val:"THU"},{text:"Friday",val:"FRI"},{text:"Saturday",val:"SAT"},{text:"Sunday",val:"SUN"}];a(".week-days").each(function(){f(this,b)})},i=function(){var b=[{text:"First",val:"1"},{text:"Second",val:"2"},{text:"Third",val:"3"},{text:"Fourth",val:"4"}];a(".day-order-in-month").each(function(){f(this,b)})},j=function(a){return 1==a.toString().length?"0"+a:a},k=function(a){return"<option id='"+a+"'>"+j(a)+"</option>"},l=function(){var b=a("ul#CronGenTabs li.active a").prop("id"),e="";switch(b){case"MinutesTab":e="0 0/"+a("#MinutesInput").val()+" * 1/1 * ? *";break;case"HourlyTab":switch(a("input:radio[name=HourlyRadio]:checked").val()){case"1":e="0 0 0/"+a("#HoursInput").val()+" 1/1 * ? *";break;case"2":e="0 "+Number(a("#AtMinutes").val())+" "+Number(a("#AtHours").val())+" 1/1 * ? *"}break;case"DailyTab":switch(a("input:radio[name=DailyRadio]:checked").val()){case"1":e="0 "+Number(a("#DailyMinutes").val())+" "+Number(a("#DailyHours").val())+" 1/"+a("#DaysInput").val()+" * ? *";break;case"2":e="0 "+Number(a("#DailyMinutes").val())+" "+Number(a("#DailyHours").val())+" ? * MON-FRI *"}break;case"WeeklyTab":var f="";a("#Weekly input:checkbox:checked").each(function(){f+=a(this).val()+","}),f.length>0&&(f=f.substr(0,f.length-1)),e="0 "+Number(a("#WeeklyMinutes").val())+" "+Number(a("#WeeklyHours").val())+" ? * "+f+" *";break;case"MonthlyTab":switch(a("input:radio[name=MonthlyRadio]:checked").val()){case"1":e="0 "+Number(a("#MonthlyMinutes").val())+" "+Number(a("#MonthlyHours").val())+" "+a("#DayOfMOnthInput").val()+" 1/"+a("#MonthInput").val()+" ? *";break;case"2":e="0 "+Number(a("#MonthlyMinutes").val())+" "+Number(a("#MonthlyHours").val())+" ? 1/"+Number(a("#EveryMonthInput").val())+" "+a("#DayInWeekOrder").val()+"#"+a("#WeekDay").val()+" *"}break;case"YearlyTab":switch(a("input:radio[name=YearlyRadio]:checked").val()){case"1":e="0 "+Number(a("#YearlyMinutes").val())+" "+Number(a("#YearlyHours").val())+" "+a("#YearInput").val()+" "+a("#MonthsOfYear").val()+" ? *";break;case"2":e="0 "+Number(a("#YearlyMinutes").val())+" "+Number(a("#YearlyHours").val())+" ? "+a("#MonthsOfYear2").val()+" "+a("#DayWeekForYear").val()+"#"+a("#DayOrderInYear").val()+" *"}}c.val(e).change(),d.val(e)}}(jQuery);
